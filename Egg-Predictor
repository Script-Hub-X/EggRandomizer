-- Visual Pet Egg Randomizer with ESP
-- Author: Dexter

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local workspace = game:GetService("Workspace")
local runService = game:GetService("RunService")

-- ðŸ¥š Set your egg model name here
local egg = workspace:WaitForChild("MyEgg") -- Change "MyEgg" to your actual egg name

-- Create UI
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "PetUI"
gui.ResetOnSpawn = false

-- Draggable frame
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 240, 0, 100)
frame.Position = UDim2.new(0.5, -120, 0.8, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.Active = true
frame.Draggable = true

-- Button
local button = Instance.new("TextButton", frame)
button.Size = UDim2.new(1, -20, 0, 40)
button.Position = UDim2.new(0, 10, 0, 10)
button.Text = "Replace Pet Inside Egg"
button.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
button.TextColor3 = Color3.new(1, 1, 1)
button.Font = Enum.Font.SourceSansBold
button.TextSize = 18

-- Label
local label = Instance.new("TextLabel", frame)
label.Size = UDim2.new(1, -20, 0, 30)
label.Position = UDim2.new(0, 10, 0, 55)
label.BackgroundTransparency = 1
label.TextColor3 = Color3.new(1, 1, 1)
label.Font = Enum.Font.SourceSansBold
label.TextSize = 20
label.Text = "Pet: None"

-- Pet pool (you can expand this)
local petPool = {
    "Disco Bee",
    "Golden Lab",
    "Snail",
    "Dragonfly",
    "Caterpillar"
}

-- Create ESP label
local function createFloatingText()
    local existing = egg:FindFirstChild("PetESP", true)
    if existing then return end

    local targetPart = egg:FindFirstChildWhichIsA("BasePart", true)
    if not targetPart then return end

    local esp = Instance.new("BillboardGui")
    esp.Name = "PetESP"
    esp.Size = UDim2.new(0, 200, 0, 50)
    esp.StudsOffset = Vector3.new(0, 3, 0)
    esp.AlwaysOnTop = true
    esp.LightInfluence = 0
    esp.MaxDistance = 100
    esp.Parent = targetPart

    local text = Instance.new("TextLabel", esp)
    text.Name = "PetText"
    text.Size = UDim2.new(1, 0, 1, 0)
    text.BackgroundTransparency = 1
    text.TextColor3 = Color3.fromRGB(255, 255, 0)
    text.Font = Enum.Font.GothamBold
    text.TextSize = 18
    text.Text = "Pet: None"
    text.TextStrokeTransparency = 0.5
end

-- Update ESP label
local function updateFloatingText(petName)
    local esp = egg:FindFirstChild("PetESP", true)
    if esp then
        local text = esp:FindFirstChild("PetText")
        if text then
            text.Text = petName
        end
    end
end

-- Button click
button.MouseButton1Click:Connect(function()
    local petName = petPool[math.random(1, #petPool)]
    egg:SetAttribute("PetInside", petName)
    label.Text = "Pet: " .. petName
    updateFloatingText(petName)
    print("âœ… Pet randomized: " .. petName)
end)

-- Create ESP once
createFloatingText()

-- Keep ESP updated
runService.RenderStepped:Connect(function()
    local currentPet = egg:GetAttribute("PetInside") or "None"
    updateFloatingText(currentPet)
end)
